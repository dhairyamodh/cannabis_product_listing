(this["webpackJsonpdevelopstoday-test-task"]=this["webpackJsonpdevelopstoday-test-task"]||[]).push([[0],{83:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(22),i=n.n(c),s=n(28),o=n(18),l=(n(60),n(17)),d=n(3),u={allProducts:null,isLoading:!1,error:null},j=Object(l.b)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_PRODUCTS_SUCCESS":return console.log("action",t.payload),Object(d.a)(Object(d.a)({},e),{},{allProducts:t.payload.data,isLoading:!e.isLoading});case"GET_ALL_PRODUCTS_FAIL":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!e.isLoading,error:t.error.data});default:return e}}}),p=n(16),h=n.n(p),b=n(23),f=n(24),g=n.n(f),O=n(45),x=n.n(O),m={returnRejectedPromiseOnError:!0,interceptors:{request:[function(e,t){e.getState;return(0,e.dispatch)({type:"SPINNER_START"}),t}],response:[{success:function(e,t){e.getState;var n=e.dispatch;e.getSourceAction;return n({type:"SPINNER_STOP"}),t},error:function(e,t){e.getState;var n,r,a,c=e.dispatch;e.getSourceAction;return console.log("AXIOS Redux ERR :",null===t||void 0===t||null===(n=t.error)||void 0===n||null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message),c({type:"SPINNER_STOP"}),Promise.reject(t)}}]}},v=g.a.create({baseURL:"https://dutchie.com/graphql",responseType:"json"});v.interceptors.request.use(function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.headers["Access-Control-Allow-Origin"]="*",e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var y=x()(v,m),C=n(46);function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,n=Object(l.d)(j,e,t(Object(l.a)(y,C.a)));return n.subscribe((function(){})),n}var A=n(2),w=n(33),P=n(10),T=n(85),D=n(86),R=(n(79),n(5)),I=n(84),E=n(1),_=function(){return Object(E.jsx)("div",{style:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(E.jsx)("div",{children:Object(E.jsx)(I.a,{animation:"border",role:"status",children:Object(E.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})})},B=(n.p,R.a.img({width:220,height:200,objectFit:"cover",borderRadius:20,marginRight:10})),L=R.a.div({width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",background:"white",marginBottom:20,borderRadius:20}),N=R.a.div({width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-start"}),k=R.a.div({width:"70%",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-start"}),z=R.a.h5({color:"#444",fontWeight:700,textTransform:"capitalize",fontSize:20,marginBottom:20}),W=R.a.p({color:"#444",fontSize:15,marginRight:10,fontWeight:500}),F=R.a.p({background:"#defceb",padding:"4px 8px",borderRadius:50,color:"#044f24",fontSize:13,fontWeight:600,textTransform:"uppercase"}),U=R.a.div({width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center"}),q=R.a.div({width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"}),M=R.a.div({display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"flex-start",fontWeight:600}),G=R.a.span({fontWeight:700,color:"#858585",fontSize:13}),H=R.a.span({color:"#035e29",fontSize:16}),X=R.a.div({width:"50%",display:"flex",flexDirection:"column",justifyContent:"space-between",fontWeight:700}),J=R.a.span({fontSize:22,padding:"10px 20px",color:"#308254",borderRadius:10}),K=R.a.span({fontSize:13,paddingLeft:10,color:"#308254"}),Q=function(){var e=Object(r.useState)([]),t=Object(P.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(0),s=Object(P.a)(i,2),o=s[0],l=s[1],d=Object(r.useState)(0),u=Object(P.a)(d,2),j=u[0],p=u[1],f=Object(r.useState)(20),O=Object(P.a)(f,2),x=O[0],m=(O[1],Object(A.e)().cateName),v=Object(r.useState)(!0),y=Object(P.a)(v,2),C=y[0],S=y[1],R=Object(r.useState)(""),I=Object(P.a)(R,2),Q=I[0],V=I[1],Y="/graphql?operationName=FilteredProducts&variables=%7B%22includeCannabinoids%22%3Afalse%2C%22showAllSpecialProducts%22%3Afalse%2C%22productsFilter%22%3A%7B%22dispensaryId%22%3A%22609c48195960d500bb8eda47%22%2C%22pricingType%22%3A%22rec%22%2C%22strainTypes%22%3A%5B%5D%2C%22subcategories%22%3A%5B%5D%2C%22Status%22%3A%22Active%22%2C%22removeProductsBelowOptionThresholds%22%3Atrue%2C%22types%22%3A%5B%22".concat(m,"%22%5D%2C%22useCache%22%3Afalse%2C%22sortDirection%22%3A1%2C%22sortBy%22%3Anull%2C%22bypassOnlineThresholds%22%3Afalse%2C%22isKioskMenu%22%3Afalse%7D%2C%22page%22%3A").concat(o,"%2C%22perPage%22%3A").concat(x,"%7D&extensions=%7B%22persistedQuery%22%3A%7B%22version%22%3A1%2C%22sha256Hash%22%3A%22b6ff0c53f33a7971a20ae49e81ab24b70c0095add648534e1c6a140943759883%22%7D%7D"),Z=function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g()(Y,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",accept:"*/*"},withCredentials:!0,credentials:"same-origin"}).then((function(e){if(200===e.status){var t=e.data.data.filteredProducts.products;t.length>0?(c([].concat(Object(w.a)(n),Object(w.a)(t))),l(o+1)):S(!1)}})).catch((function(e){V("An error occured")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return C||setTimeout((function(){if(n.length>=20){var e=n.length/x;console.log("totalPages",n.length,Math.ceil(e),j,j===e),j===Math.ceil(e)-1?p(0):p(j+1)}}),15e3),a.a.useEffect((function(){C&&Z()}),[m,o]),console.log("products",n.length,"localPage * rowsPerPage",j*x,"localPage * rowsPerPage + rowsPerPage",j*x+x),Object(E.jsx)("div",{style:{background:"rgb(234, 239, 242)",padding:"20px"},children:Object(E.jsx)(T.a,{children:""!=Q?Object(E.jsx)("div",{style:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:"asas"}):C?Object(E.jsx)(_,{}):null===n||void 0===n?void 0:n.slice(j*x,j*x+x).map((function(e,t){return Object(E.jsx)(D.a,{sm:12,md:6,children:Object(E.jsxs)(L,{children:[Object(E.jsx)(B,{src:e.Image}),Object(E.jsxs)(N,{children:[Object(E.jsx)(z,{children:e.cName}),Object(E.jsxs)(k,{children:[Object(E.jsxs)(U,{children:[Object(E.jsx)(W,{children:e.brandName}),Object(E.jsx)(F,{children:e.strainType})]}),Object(E.jsxs)(q,{children:[Object(E.jsxs)(M,{children:[Object(E.jsx)(G,{children:"THC"}),Object(E.jsx)(H,{children:e.THCContent.range.map((function(e){return e+"%"})).join(" - ")})]}),Object(E.jsxs)(M,{children:[Object(E.jsx)(G,{children:"CBD"}),Object(E.jsx)(H,{children:e.CBDContent.range.map((function(e){return e+"%"})).join(" - ")})]})]})]})]}),Object(E.jsx)(X,{children:e.recPrices.map((function(t,n){return Object(E.jsxs)(J,{children:[t,Object(E.jsxs)(K,{children:["(",e.Options[n],")"]})]})}))})]})})}))})})},V=function(){return Object(E.jsx)("div",{children:Object(E.jsx)(A.a,{exact:!0,path:"/:cateName",component:Q})})},Y=function(){return Object(E.jsx)(a.a.Fragment,{children:Object(E.jsx)("div",{children:Object(E.jsx)(A.a,{path:"/",component:V})})})};var Z=function(){return Object(E.jsx)(o.a,{children:Object(E.jsx)(s.a,{store:S(),children:Object(E.jsx)(Y,{})})})};i.a.render(Object(E.jsx)(Z,{}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.1e3f10c2.chunk.js.map